{% extends "base_template.html" %}
{% load static %}

{% block content %}

<link rel="stylesheet" type="text/css" href="{% static 'timetable/style.css' %}">
<h1>{{ month_name }} {{ year }}</h1>
<table>
    <tr>
        <th>Mon</th>
        <th>Tue</th>
        <th>Wed</th>
        <th>Thu</th>
        <th>Fri</th>
        <th>Sat</th>
        <th>Sun</th>
    </tr>
    {% for week in this_month %}
        {% if forloop.counter0 == this_week %}
        <tr class="intro">
            {% for day in week %}
                {% if day == today %}
                    <td bgcolor="yellow"><a href="{% url 'timetable:display_day' timetable_id year month day %}">{{ day }}</a></td>
                {% else %}
                    <td><a href="{% url 'timetable:display_day' timetable_id year month day %}">{{ day }}</a></td>
                {% endif %}
            {% endfor %}
        </tr>
        {% else %}
            {% for day in week %}
                {% if forloop.parentloop.first and day > 7 %}
                    <td bgcolor="lightgray"><a href="{% url 'timetable:display_day' timetable_id year month day %}">{{ day }}</a></td>
                {% elif forloop.parentloop.last and day < 7 %}
                    <td bgcolor="lightgray"><a href="{% url 'timetable:display_day' timetable_id year month day %}">{{ day }}</a></td>
                {% else %}
                    <td><a href="{% url 'timetable:display_day' timetable_id year month day %}">{{ day }}</a></td>
                {% endif %}
            {% endfor %}
        </tr>
        {% endif %}
    {% endfor %}
</table>
{% endblock %}
